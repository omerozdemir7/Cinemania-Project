{"version":3,"file":"api-DdP_p3xO.js","sources":["../../src/services/api.js"],"sourcesContent":["const API_KEY = 'dde96e5fa056bcb04c5c4ae010d3eec9'; // Force key for debugging\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst DEFAULTS = { language: 'en-US', region: 'TR' };\n\nfunction buildUrl(path, params = {}) {\n  const url = new URL(`${BASE_URL}${path}`);\n  url.searchParams.set('api_key', API_KEY);\n\n  const all = { ...DEFAULTS, ...params };\n  Object.entries(all).forEach(([k, v]) => {\n    if (v !== undefined && v !== null && v !== '') url.searchParams.set(k, v);\n  });\n  console.log('API Request:', url.toString());\n  return url.toString();\n}\n\nexport async function fetchPopularMovies(page = 1) {\n  const res = await fetch(buildUrl('/movie/popular', { page }));\n  return res.json();\n}\n\nexport async function fetchDailyTrending() {\n  const res = await fetch(buildUrl('/trending/movie/day'));\n  return res.json();\n}\n\nexport async function fetchWeeklyMovies(page = 1) {\n  const res = await fetch(buildUrl('/trending/movie/week', { page }));\n  return res.json();\n}\n\nexport async function fetchUpcomingMovies(page = 1) {\n  const res = await fetch(buildUrl('/movie/upcoming', { page }));\n  return res.json();\n}\n\nexport async function fetchMovieDetails(movieId) {\n  const res = await fetch(buildUrl(`/movie/${movieId}`));\n  return res.json();\n}\n\nexport async function fetchMovieVideos(movieId) {\n  const res = await fetch(buildUrl(`/movie/${movieId}/videos`));\n  return res.json();\n}\n\n\nexport async function searchMovies(query, year = '', page = 1) {\n  const res = await fetch(\n    buildUrl('/search/movie', {\n      query: encodeURIComponent(query),\n      year,\n      page,\n      include_adult: false,\n    })\n  );\n  return res.json();\n}\n\nexport async function fetchGenres() {\n  const res = await fetch(buildUrl('/genre/movie/list'));\n  return res.json();\n}\n\nexport async function fetchMoviesBetween(startDate, endDate, { region = DEFAULTS.region } = {}) {\n  const res = await fetch(\n    buildUrl('/discover/movie', {\n      sort_by: 'popularity.desc',\n      with_release_type: '2|3',\n      region,\n      'primary_release_date.gte': startDate,\n      'primary_release_date.lte': endDate,\n    })\n  );\n  return res.json();\n}\n\nexport async function fetchTrendingWeek(page = 1) {\n  const res = await fetch(buildUrl('/trending/movie/week', { page }));\n  return res.json();\n}\n\nexport async function fetchTrendingDay() {\n  const res = await fetch(buildUrl('/trending/movie/day'));\n  return res.json();\n}\n"],"names":["API_KEY","BASE_URL","DEFAULTS","buildUrl","path","params","url","all","k","v","fetchDailyTrending","fetchWeeklyMovies","page","fetchMovieDetails","movieId","fetchMovieVideos","searchMovies","query","year","fetchGenres","fetchMoviesBetween","startDate","endDate","region","fetchTrendingWeek","fetchTrendingDay"],"mappings":"AAAA,MAAMA,EAAU,mCACVC,EAAW,+BACXC,EAAW,CAAE,SAAU,QAAS,OAAQ,IAAI,EAElD,SAASC,EAASC,EAAMC,EAAS,GAAI,CACnC,MAAMC,EAAM,IAAI,IAAI,GAAGL,CAAQ,GAAGG,CAAI,EAAE,EACxCE,EAAI,aAAa,IAAI,UAAWN,CAAO,EAEvC,MAAMO,EAAM,CAAE,GAAGL,EAAU,GAAGG,CAAM,EACpC,cAAO,QAAQE,CAAG,EAAE,QAAQ,CAAC,CAACC,EAAGC,CAAC,IAAM,CACfA,GAAM,MAAQA,IAAM,IAAIH,EAAI,aAAa,IAAIE,EAAGC,CAAC,CAC5E,CAAG,EACD,QAAQ,IAAI,eAAgBH,EAAI,SAAU,CAAA,EACnCA,EAAI,UACb,CAOO,eAAeI,GAAqB,CAEzC,OADY,MAAM,MAAMP,EAAS,qBAAqB,CAAC,GAC5C,MACb,CAEO,eAAeQ,EAAkBC,EAAO,EAAG,CAEhD,OADY,MAAM,MAAMT,EAAS,uBAAwB,CAAE,KAAAS,CAAM,CAAA,CAAC,GACvD,MACb,CAOO,eAAeC,EAAkBC,EAAS,CAE/C,OADY,MAAM,MAAMX,EAAS,UAAUW,CAAO,EAAE,CAAC,GAC1C,MACb,CAEO,eAAeC,EAAiBD,EAAS,CAE9C,OADY,MAAM,MAAMX,EAAS,UAAUW,CAAO,SAAS,CAAC,GACjD,MACb,CAGO,eAAeE,EAAaC,EAAOC,EAAO,GAAIN,EAAO,EAAG,CAS7D,OARY,MAAM,MAChBT,EAAS,gBAAiB,CACxB,MAAO,mBAAmBc,CAAK,EAC/B,KAAAC,EACA,KAAAN,EACA,cAAe,EACrB,CAAK,CACL,GACa,MACb,CAEO,eAAeO,GAAc,CAElC,OADY,MAAM,MAAMhB,EAAS,mBAAmB,CAAC,GAC1C,MACb,CAEO,eAAeiB,EAAmBC,EAAWC,EAAS,CAAE,OAAAC,EAASrB,EAAS,MAAQ,EAAG,GAAI,CAU9F,OATY,MAAM,MAChBC,EAAS,kBAAmB,CAC1B,QAAS,kBACT,kBAAmB,MACnB,OAAAoB,EACA,2BAA4BF,EAC5B,2BAA4BC,CAClC,CAAK,CACL,GACa,MACb,CAEO,eAAeE,EAAkBZ,EAAO,EAAG,CAEhD,OADY,MAAM,MAAMT,EAAS,uBAAwB,CAAE,KAAAS,CAAM,CAAA,CAAC,GACvD,MACb,CAEO,eAAea,GAAmB,CAEvC,OADY,MAAM,MAAMtB,EAAS,qBAAqB,CAAC,GAC5C,MACb"}