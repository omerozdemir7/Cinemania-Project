{"version":3,"file":"header-DqADevFr.js","sources":["../../../../../../../images/header/popcorn.png","../../src/components/header/header.js"],"sourcesContent":["export default \"__VITE_PUBLIC_ASSET__6a1675b2__\"","import popcornUrl from '/images/header/popcorn.png';\n\nfunction initHeader() {\n  document.querySelectorAll('.header__logo-icon').forEach(img => {\n    img.src = popcornUrl;\n  });\n  initMenu('#menuLinks', 'menuLinks:active');\n  initMenu('#links', 'menuLinks:active');\n  initSidebar('#menu', '.header__sidebar', '.header__sidebar-backdrop');\n  initTheme('#toggle', '.header__theme-toggle use', {\n    navbar: 'header',\n    menuButton: '#menu',\n    modal: '.header__sidebar',\n    backdrop: '.header__sidebar-backdrop',\n    links: '#links',\n    logoText: '.header__logo-text',\n    body: 'body',\n  });\n}\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initHeader);\n} else {\n  initHeader();\n}\nfunction initMenu(selector, storageKey) {\n  const menu = document.querySelector(selector);\n  console;\n  if (!menu) return;\n  const savedKey = localStorage.getItem(storageKey);\n  if (savedKey) {\n    const activeLink = menu.querySelector(`a[href=\"${savedKey}\"]`);\n    const li = activeLink?.closest('li');\n    if (li) {\n      menu.querySelector('.active')?.classList.remove('active');\n      li.classList.add('active');\n    }\n  }\n\n  menu.addEventListener('click', e => {\n    const li = e.target.closest('li');\n    if (!li || !menu.contains(li)) return;\n\n    menu.querySelector('.active')?.classList.remove('active');\n    li.classList.add('active');\n\n    const key = li.querySelector('a')?.getAttribute('href');\n    if (key) localStorage.setItem(storageKey, key);\n  });\n}\n\nfunction initSidebar(buttonSel, modalSel, backdropSel) {\n  const button = document.querySelector(buttonSel);\n  const modal = document.querySelector(modalSel);\n  const backdrop = document.querySelector(backdropSel);\n  if (!button || !modal || !backdrop) return;\n\n  button.addEventListener('click', () => {\n    console.log('clicked');\n    const visible = modal.style.display === 'flex';\n    modal.style.display = visible ? 'none' : 'flex';\n    backdrop.style.display = visible ? 'none' : 'block';\n    button.style.display = visible ? '' : '';\n\n    const closeOnBackdrop = e => {\n      if (e.target === backdrop) {\n        modal.style.display = 'none';\n        backdrop.style.display = 'none';\n        backdrop.removeEventListener('click', closeOnBackdrop);\n      }\n    };\n    backdrop.addEventListener('click', closeOnBackdrop);\n  });\n}\n\nfunction initTheme(toggleSel, iconSel, refs = {}) {\n  const toggle = document.querySelector(toggleSel);\n  const icon = document.querySelector(iconSel);\n  const { navbar, menuButton, modal, backdrop, links, logoText, body } =\n    getRefs(refs);\n\n  const setTheme = theme => {\n    document.body.className = theme;\n    localStorage.setItem('theme', theme);\n\n    const isDark = theme === 'dark-theme';\n    if (toggle) toggle.checked = isDark;\n    if (body) body.style.backgroundColor = isDark ? '#121212' : '#fff';\n    if (menuButton) menuButton.style.color = isDark ? '#b7b7b7' : '#595959';\n    if (navbar) navbar.style.backgroundColor = isDark ? '#000' : '#fff';\n    if (modal) modal.style.backgroundColor = isDark ? '#000' : '#f8f8f8';\n    if (logoText) logoText.style.color = isDark ? '#fff' : '#282828';\n    if (links) {\n      links.querySelectorAll('a').forEach(a => {\n        a.style.color = isDark ? '#fff' : '#111';\n        if (a.closest('li')?.classList.contains('active')) {\n          a.style.color = '#f87719';\n        }\n      });\n    }\n    if (modal) {\n      modal.querySelectorAll('a').forEach(a => {\n        a.style.color = isDark ? '#fff' : '#111';\n        if (a.closest('li')?.classList.contains('active')) {\n          a.style.color = '#f87719';\n        }\n      });\n    }\n\n    if (backdrop) {\n      backdrop.style.backgroundColor = isDark\n        ? 'rgba(255,255,255,0.2)'\n        : 'rgba(0,0,0,0.2)';\n      backdrop.style.zIndex = '1';\n    }\n\n    icon?.setAttribute(\n      'href',\n      `${import.meta.env.BASE_URL}images/icon.svg#${isDark ? 'icon-Vector' : 'icon-Sun'}`\n    );\n  };\n\n  setTheme(localStorage.getItem('theme') || 'light-theme');\n\n  toggle?.addEventListener('change', () =>\n    setTheme(toggle.checked ? 'dark-theme' : 'light-theme')\n  );\n}\nfunction getRefs(refs) {\n  const obj = {};\n  for (const key in refs) {\n    const el = document.querySelector(refs[key]);\n    obj[key] = el || null;\n  }\n  return obj;\n}\n"],"names":["popcornUrl","initHeader","img","initMenu","initSidebar","initTheme","selector","storageKey","_a","menu","savedKey","activeLink","li","e","_b","key","buttonSel","modalSel","backdropSel","button","modal","backdrop","visible","closeOnBackdrop","toggleSel","iconSel","refs","toggle","icon","navbar","menuButton","links","logoText","body","getRefs","setTheme","theme","isDark","a","obj","el"],"mappings":"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"}