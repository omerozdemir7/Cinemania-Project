const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-D6wR8N-_.js","assets/loader-Bo_Pa9Zr.js","assets/ui-helpers-CkZORf72.js","assets/catalog-Br1yaDE8.js","assets/my-library-CdUjur2R.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(r){if(r.ep)return;r.ep=!0;const c=n(r);fetch(r.href,c)}})();const E="modulepreload",w=function(e){return"/Cinemania-Project/"+e},b={},g=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){let l=function(a){return Promise.all(a.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),s=i?.nonce||i?.getAttribute("nonce");r=l(n.map(a=>{if(a=w(a),a in b)return;b[a]=!0;const f=a.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":E,f||(m.as="script"),m.crossOrigin="",m.href=a,s&&m.setAttribute("nonce",s),document.head.appendChild(m),f)return new Promise((y,u)=>{m.addEventListener("load",y),m.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${a}`)))})}))}function c(i){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i}return r.then(i=>{for(const s of i||[])s.status==="rejected"&&c(s.reason);return t().catch(c)})},S="362ee522f1af2dedac989b8df9cfb4eb",k="https://api.themoviedb.org/3",P="https://image.tmdb.org/t/p/w500",M="https://image.tmdb.org/t/p/original";async function h(e,t={}){const n=new URL(`${k}${e}`);n.searchParams.append("api_key",S),n.searchParams.append("language","en-US");for(const o in t)t[o]&&n.searchParams.append(o,t[o]);try{const o=await fetch(n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors"});if(!o.ok)throw new Error(`API Error: ${o.status}`);return await o.json()}catch(o){return console.error("API Request Failed:",o),o.message.includes("CORS")||o.message.includes("NetworkError")?(console.warn("CORS issue detected, trying proxy..."),await _(n.toString())):null}}async function _(e){const t="https://cors-anywhere.herokuapp.com/";try{const n=await fetch(t+e);if(!n.ok)throw new Error(`Proxy API Error: ${n.status}`);return await n.json()}catch(n){return console.error("Proxy Request Failed:",n),null}}async function A(e=1){return await h("/movie/popular",{page:e})}async function N(e="week",t=1){return await h(`/trending/movie/${e}`,{page:t})}async function O(e=1){return await h("/movie/upcoming",{page:e,region:"US"})}async function R(e,t=1,n=""){return await h("/search/movie",{query:e,page:t,primary_release_year:n})}async function x(e){return await h(`/movie/${e}`)}async function U(e){return await h(`/movie/${e}/videos`)}function C(e){return e?`${P}${e}`:"https://via.placeholder.com/500x750?text=No+Poster"}function $(e){return e?`${M}${e}`:"https://via.placeholder.com/1920x1080?text=No+Image"}function I(){const e=document.querySelector("#movie-modal-backdrop");if(!e)return console.error("Modal backdrop '#movie-modal-backdrop' not found."),{openModal:()=>{},closeModal:()=>{}};const t=e.querySelector("#modal-close-btn"),n=e.querySelector("#modal-poster"),o=e.querySelector("#modal-title"),r=e.querySelector("#modal-vote-avg"),c=e.querySelector("#modal-vote-count"),i=e.querySelector("#modal-popularity"),s=e.querySelector("#modal-genre"),l=e.querySelector("#modal-description"),a=e.querySelector("#modal-add-btn");function f(){return JSON.parse(localStorage.getItem("myLibrary"))||[]}function p(u){localStorage.setItem("myLibrary",JSON.stringify(u))}async function m(u){const d=await x(u);if(d){if(n&&(n.src=C(d.poster_path)),o&&(o.textContent=d.title.toUpperCase()),r&&(r.textContent=d.vote_average.toFixed(1)),c&&(c.textContent=d.vote_count),i&&(i.textContent=d.popularity.toFixed(1)),s&&(s.textContent=d.genres.map(v=>v.name).join(", ")||"N/A"),l&&(l.textContent=d.overview||"No description available."),a){const v=f(),L=Number(d.id);a.textContent=v.includes(L)?"Remove from my library":"Add to my library",a.dataset.id=L}e.classList.remove("is-hidden"),document.body.classList.add("modal-open")}}function y(){e.classList.add("is-hidden"),document.body.classList.remove("modal-open")}return t&&t.addEventListener("click",y),e.addEventListener("click",u=>{u.target===e&&y()}),window.addEventListener("keydown",u=>{u.key==="Escape"&&!e.classList.contains("is-hidden")&&y()}),a&&a.addEventListener("click",()=>{const u=Number(a.dataset.id);if(!u)return;const d=f(),v=d.indexOf(u);v>-1?(d.splice(v,1),a.textContent="Add to my library"):(d.push(u),a.textContent="Remove from my library"),p(d)}),{openModal:m,closeModal:y}}function q(){const e=document.querySelector(".footer-link"),t=document.getElementById("team-modal-backdrop"),n=document.getElementById("team-modal-close-btn");if(!e||!t)return;function o(i){i.preventDefault(),t.classList.remove("is-hidden"),document.body.classList.add("modal-open"),window.addEventListener("keydown",c)}function r(){t.classList.add("is-hidden"),document.body.classList.remove("modal-open"),window.removeEventListener("keydown",c)}function c(i){i.code==="Escape"&&r()}e.addEventListener("click",o),n&&n.addEventListener("click",r),t.addEventListener("click",i=>{i.target===t&&r()})}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-nav"),t=document.querySelector(".logo"),n=document.querySelector(".mobile-menu-btn");let o=null;if(!e||!t)return;const r=()=>window.innerWidth<=768;function c(l){r()&&(l&&l.preventDefault(),o||(o=document.createElement("div"),o.className="mobile-overlay",o.addEventListener("click",i),document.body.appendChild(o)),e.classList.add("is-open"),document.body.classList.add("menu-open"))}function i(){e.classList.remove("is-open"),document.body.classList.remove("menu-open"),o&&(o.removeEventListener("click",i),o.remove(),o=null)}let s=e.querySelector(".mobile-nav-close");s||(s=document.createElement("button"),s.type="button",s.className="mobile-nav-close",s.innerHTML="&times;",e.appendChild(s)),s.addEventListener("click",i),t.addEventListener("click",c),n&&n.addEventListener("click",c),e.querySelectorAll("a.nav-link").forEach(l=>{l.addEventListener("click",i)}),window.addEventListener("resize",()=>{r()||i()})});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle-checkbox"),t=document.body;if(!e)return;localStorage.getItem("theme")==="light"&&(t.classList.add("light-mode"),e.checked=!0),e.addEventListener("change",()=>{e.checked?(t.classList.add("light-mode"),localStorage.setItem("theme","light")):(t.classList.remove("light-mode"),localStorage.setItem("theme","dark"))})});document.addEventListener("DOMContentLoaded",()=>{const{openModal:e}=I();window.openMovieModal=e,q();const t=window.location.href,n=window.location.pathname,o=t.includes("catalog"),r=t.includes("my-library"),c=!o&&!r&&(t.endsWith("/")||t.includes("index.html")||n==="/"||n==="/Cinemania-Project/"||n==="/Cinemania-Project"),i={home:()=>g(()=>import("./index-D6wR8N-_.js"),__vite__mapDeps([0,1,2])),catalog:()=>g(()=>import("./catalog-Br1yaDE8.js"),__vite__mapDeps([3,1,2])),library:()=>g(()=>import("./my-library-CdUjur2R.js"),__vite__mapDeps([4,2]))};document.querySelectorAll(".nav-link").forEach(l=>{l.classList.remove("active");const a=l.getAttribute("href")||"";(c&&a.includes("index")||o&&a.includes("catalog")||r&&a.includes("library"))&&l.classList.add("active")});const s=o?i.catalog:r?i.library:c?i.home:null;s&&s().then(()=>console.log("Sayfa modülü yüklendi.")).catch(l=>console.error("Sayfa modülü yüklenirken hata:",l))});export{O as a,A as b,x as c,U as d,C as e,N as f,$ as g,R as s};
//# sourceMappingURL=main-Bb4pfTFX.js.map
