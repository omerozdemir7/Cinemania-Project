const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/catalog-D9wIxm5C.js","assets/loader-Bo_Pa9Zr.js","assets/ui-helpers-Betz2iSD.js","assets/index-BurqpUq7.js","assets/my-library-D84mEWrp.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const w="modulepreload",S=function(e){return"/Cinemania-Project/"+e},E={},g=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=i?.nonce||i?.getAttribute("nonce");r=l(n.map(c=>{if(c=S(c),c in E)return;E[c]=!0;const f=c.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":w,f||(m.as="script"),m.crossOrigin="",m.href=c,a&&m.setAttribute("nonce",a),document.head.appendChild(m),f)return new Promise((y,u)=>{m.addEventListener("load",y),m.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},k="362ee522f1af2dedac989b8df9cfb4eb",P="https://api.themoviedb.org/3",M="https://image.tmdb.org/t/p/w500",x="https://image.tmdb.org/t/p/original";async function h(e,t={}){const n=new URL(`${P}${e}`);n.searchParams.append("api_key",k),n.searchParams.append("language","en-US");for(const o in t)t[o]&&n.searchParams.append(o,t[o]);try{const o=await fetch(n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors"});if(!o.ok)throw new Error(`API Error: ${o.status}`);return await o.json()}catch(o){return console.error("API Request Failed:",o),o.message.includes("CORS")||o.message.includes("NetworkError")?(console.warn("CORS issue detected, trying proxy..."),await _(n.toString())):null}}async function _(e){const t="https://cors-anywhere.herokuapp.com/";try{const n=await fetch(t+e);if(!n.ok)throw new Error(`Proxy API Error: ${n.status}`);return await n.json()}catch(n){return console.error("Proxy Request Failed:",n),null}}async function O(e=1){return await h("/movie/popular",{page:e})}async function N(e="week",t=1){return await h(`/trending/movie/${e}`,{page:t})}async function j(e=1){return await h("/movie/upcoming",{page:e,region:"US"})}async function R(e,t=1,n=""){return await h("/search/movie",{query:e,page:t,primary_release_year:n})}async function C(e){return await h(`/movie/${e}`)}async function U(e){return await h(`/movie/${e}/videos`)}function I(e){return e?`${M}${e}`:"https://via.placeholder.com/500x750?text=No+Poster"}function $(e){return e?`${x}${e}`:"https://via.placeholder.com/1920x1080?text=No+Image"}function q(){const e=document.querySelector("#movie-modal-backdrop");if(!e)return console.error("Modal backdrop '#movie-modal-backdrop' not found."),{openModal:()=>{},closeModal:()=>{}};const t=e.querySelector("#modal-close-btn"),n=e.querySelector("#modal-poster"),o=e.querySelector("#modal-title"),r=e.querySelector("#modal-vote-avg"),s=e.querySelector("#modal-vote-count"),i=e.querySelector("#modal-popularity"),a=e.querySelector("#modal-genre"),l=e.querySelector("#modal-description"),c=e.querySelector("#modal-add-btn");function f(){return JSON.parse(localStorage.getItem("myLibrary"))||[]}function p(u){localStorage.setItem("myLibrary",JSON.stringify(u))}async function m(u){const d=await C(u);if(d){if(n&&(n.src=I(d.poster_path)),o&&(o.textContent=d.title.toUpperCase()),r&&(r.textContent=d.vote_average.toFixed(1)),s&&(s.textContent=d.vote_count),i&&(i.textContent=d.popularity.toFixed(1)),a&&(a.textContent=d.genres.map(v=>v.name).join(", ")||"N/A"),l&&(l.textContent=d.overview||"No description available."),c){const v=f(),b=Number(d.id);c.textContent=v.includes(b)?"Remove from my library":"Add to my library",c.dataset.id=b}e.classList.remove("is-hidden"),document.body.classList.add("modal-open")}}function y(){e.classList.add("is-hidden"),document.body.classList.remove("modal-open")}return t&&t.addEventListener("click",y),e.addEventListener("click",u=>{u.target===e&&y()}),window.addEventListener("keydown",u=>{u.key==="Escape"&&!e.classList.contains("is-hidden")&&y()}),c&&c.addEventListener("click",()=>{const u=Number(c.dataset.id);if(!u)return;const d=f(),v=d.indexOf(u);v>-1?(d.splice(v,1),c.textContent="Add to my library"):(d.push(u),c.textContent="Remove from my library"),p(d)}),{openModal:m,closeModal:y}}function A(){const e=document.querySelector(".footer-link"),t=document.getElementById("team-modal-backdrop"),n=document.getElementById("team-modal-close-btn");if(!e||!t)return;function o(i){i.preventDefault(),t.classList.remove("is-hidden"),document.body.classList.add("modal-open"),window.addEventListener("keydown",s)}function r(){t.classList.add("is-hidden"),document.body.classList.remove("modal-open"),window.removeEventListener("keydown",s)}function s(i){i.code==="Escape"&&r()}e.addEventListener("click",o),n&&n.addEventListener("click",r),t.addEventListener("click",i=>{i.target===t&&r()})}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-nav"),t=document.querySelector(".logo"),n=document.querySelector(".mobile-menu-btn");let o=null;if(!e||!t)return;const r=()=>window.innerWidth<=768;function s(l){r()&&(l&&l.preventDefault(),o||(o=document.createElement("div"),o.className="mobile-overlay",o.addEventListener("click",i),document.body.appendChild(o)),e.classList.add("is-open"),document.body.classList.add("menu-open"))}function i(){e.classList.remove("is-open"),document.body.classList.remove("menu-open"),o&&(o.removeEventListener("click",i),o.remove(),o=null)}let a=e.querySelector(".mobile-nav-close");a||(a=document.createElement("button"),a.type="button",a.className="mobile-nav-close",a.innerHTML="&times;",e.appendChild(a)),a.addEventListener("click",i),t.addEventListener("click",s),n&&n.addEventListener("click",s),e.querySelectorAll("a.nav-link").forEach(l=>{l.addEventListener("click",i)}),window.addEventListener("resize",()=>{r()||i()})});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle-checkbox"),t=document.body;if(!e)return;localStorage.getItem("theme")==="light"&&(t.classList.add("light-mode"),e.checked=!0),e.addEventListener("change",()=>{e.checked?(t.classList.add("light-mode"),localStorage.setItem("theme","light")):(t.classList.remove("light-mode"),localStorage.setItem("theme","dark"))})});const L=Object.assign({"../pages/catalog/catalog.js":()=>g(()=>import("./catalog-D9wIxm5C.js"),__vite__mapDeps([0,1,2])),"../pages/home/index.js":()=>g(()=>import("./index-BurqpUq7.js"),__vite__mapDeps([3,1,2])),"../pages/my-library/my-library.js":()=>g(()=>import("./my-library-D84mEWrp.js"),__vite__mapDeps([4,2]))});document.addEventListener("DOMContentLoaded",()=>{const{openModal:e}=q();window.openMovieModal=e,A();const t=window.location.href,n=window.location.pathname,o=t.includes("catalog"),r=t.includes("my-library"),s=!o&&!r&&(t.endsWith("/")||t.includes("index.html")||n==="/"||n==="/Cinemania-Project/"||n==="/Cinemania-Project"),i={home:()=>L["../pages/home/index.js"]?.(),catalog:()=>L["../pages/catalog/catalog.js"]?.(),library:()=>L["../pages/my-library/my-library.js"]?.()};document.querySelectorAll(".nav-link").forEach(l=>{l.classList.remove("active");const c=l.getAttribute("href")||"";(s&&c.includes("index")||o&&c.includes("catalog")||r&&c.includes("library"))&&l.classList.add("active")});const a=o?i.catalog:r?i.library:s?i.home:null;a&&a().catch(l=>console.error("Sayfa modülü yüklenirken hata:",l))});export{N as a,j as b,C as c,U as d,I as e,O as f,$ as g,R as s};
//# sourceMappingURL=main-Bn_Jp4Ge.js.map
