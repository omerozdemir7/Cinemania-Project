const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/catalog-DRK-IBis.js","assets/loader-Bo_Pa9Zr.js","assets/ui-helpers-CRWyfHxw.js","assets/index-DgNuUXE4.js","assets/my-library-B-zau9mS.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();const w="modulepreload",S=function(e){return"/Cinemania-Project/"+e},E={},h=function(t,i,o){let n=Promise.resolve();if(i&&i.length>0){let l=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=r?.nonce||r?.getAttribute("nonce");n=l(i.map(c=>{if(c=S(c),c in E)return;E[c]=!0;const f=c.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":w,f||(m.as="script"),m.crossOrigin="",m.href=c,a&&m.setAttribute("nonce",a),document.head.appendChild(m),f)return new Promise((y,u)=>{m.addEventListener("load",y),m.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(r){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r}return n.then(r=>{for(const a of r||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},M="362ee522f1af2dedac989b8df9cfb4eb",k="https://api.themoviedb.org/3",_="https://image.tmdb.org/t/p/w500",P="https://image.tmdb.org/t/p/w780";async function g(e,t={}){const i=new URL(`${k}${e}`);i.searchParams.append("api_key",M),i.searchParams.append("language","en-US");for(const o in t)t[o]&&i.searchParams.append(o,t[o]);try{const o=await fetch(i);if(!o.ok)throw new Error(`API Error: ${o.status}`);return await o.json()}catch(o){return console.error("API Request Failed:",o),null}}async function A(e=1){return await g("/movie/popular",{page:e})}async function N(e="week",t=1){return await g(`/trending/movie/${e}`,{page:t})}async function O(e=1){return await g("/movie/upcoming",{page:e,region:"US"})}async function U(e,t=1,i=""){return await g("/search/movie",{query:e,page:t,primary_release_year:i})}async function x(e){return await g(`/movie/${e}`)}async function j(e){return await g(`/movie/${e}/videos`)}function C(e){return e?`${_}${e}`:"https://via.placeholder.com/500x750?text=No+Poster"}function $(e){return e?`${P}${e}`:"https://via.placeholder.com/1280x720?text=No+Image"}function I(){const e=document.querySelector("#movie-modal-backdrop");if(!e)return console.error("Modal backdrop '#movie-modal-backdrop' not found."),{openModal:()=>{},closeModal:()=>{}};const t=e.querySelector("#modal-close-btn"),i=e.querySelector("#modal-poster"),o=e.querySelector("#modal-title"),n=e.querySelector("#modal-vote-avg"),s=e.querySelector("#modal-vote-count"),r=e.querySelector("#modal-popularity"),a=e.querySelector("#modal-genre"),l=e.querySelector("#modal-description"),c=e.querySelector("#modal-add-btn");function f(){return JSON.parse(localStorage.getItem("myLibrary"))||[]}function p(u){localStorage.setItem("myLibrary",JSON.stringify(u))}async function m(u){const d=await x(u);if(d){if(i&&(i.src=C(d.poster_path)),o&&(o.textContent=d.title.toUpperCase()),n&&(n.textContent=d.vote_average.toFixed(1)),s&&(s.textContent=d.vote_count),r&&(r.textContent=d.popularity.toFixed(1)),a&&(a.textContent=d.genres.map(v=>v.name).join(", ")||"N/A"),l&&(l.textContent=d.overview||"No description available."),c){const v=f(),L=Number(d.id);c.textContent=v.includes(L)?"Remove from my library":"Add to my library",c.dataset.id=L}e.classList.remove("is-hidden"),document.body.classList.add("modal-open")}}function y(){e.classList.add("is-hidden"),document.body.classList.remove("modal-open")}return t&&t.addEventListener("click",y),e.addEventListener("click",u=>{u.target===e&&y()}),window.addEventListener("keydown",u=>{u.key==="Escape"&&!e.classList.contains("is-hidden")&&y()}),c&&c.addEventListener("click",()=>{const u=Number(c.dataset.id);if(!u)return;const d=f(),v=d.indexOf(u);v>-1?(d.splice(v,1),c.textContent="Add to my library"):(d.push(u),c.textContent="Remove from my library"),p(d)}),{openModal:m,closeModal:y}}function q(){const e=document.querySelector(".footer-link"),t=document.getElementById("team-modal-backdrop"),i=document.getElementById("team-modal-close-btn");if(!e||!t)return;function o(r){r.preventDefault(),t.classList.remove("is-hidden"),document.body.classList.add("modal-open"),window.addEventListener("keydown",s)}function n(){t.classList.add("is-hidden"),document.body.classList.remove("modal-open"),window.removeEventListener("keydown",s)}function s(r){r.code==="Escape"&&n()}e.addEventListener("click",o),i&&i.addEventListener("click",n),t.addEventListener("click",r=>{r.target===t&&n()})}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-nav"),t=document.querySelector(".logo"),i=document.querySelector(".mobile-menu-btn");let o=null;if(!e||!t)return;const n=()=>window.innerWidth<=768;function s(l){n()&&(l&&l.preventDefault(),o||(o=document.createElement("div"),o.className="mobile-overlay",o.addEventListener("click",r),document.body.appendChild(o)),e.classList.add("is-open"),document.body.classList.add("menu-open"))}function r(){e.classList.remove("is-open"),document.body.classList.remove("menu-open"),o&&(o.removeEventListener("click",r),o.remove(),o=null)}let a=e.querySelector(".mobile-nav-close");a||(a=document.createElement("button"),a.type="button",a.className="mobile-nav-close",a.innerHTML="&times;",e.appendChild(a)),a.addEventListener("click",r),t.addEventListener("click",s),i&&i.addEventListener("click",s),e.querySelectorAll("a.nav-link").forEach(l=>{l.addEventListener("click",r)}),window.addEventListener("resize",()=>{n()||r()})});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle-checkbox"),t=document.body;if(!e)return;localStorage.getItem("theme")==="light"&&(t.classList.add("light-mode"),e.checked=!0),e.addEventListener("change",()=>{e.checked?(t.classList.add("light-mode"),localStorage.setItem("theme","light")):(t.classList.remove("light-mode"),localStorage.setItem("theme","dark"))})});const b=Object.assign({"../pages/catalog/catalog.js":()=>h(()=>import("./catalog-DRK-IBis.js"),__vite__mapDeps([0,1,2])),"../pages/home/index.js":()=>h(()=>import("./index-DgNuUXE4.js"),__vite__mapDeps([3,1,2])),"../pages/my-library/my-library.js":()=>h(()=>import("./my-library-B-zau9mS.js"),__vite__mapDeps([4,2]))});document.addEventListener("DOMContentLoaded",()=>{const{openModal:e}=I();window.openMovieModal=e,q();const t=window.location.href,i=window.location.pathname,o=t.includes("catalog"),n=t.includes("my-library"),s=!o&&!n&&(t.endsWith("/")||t.includes("index.html")||i==="/"||i==="/Cinemania-Project/"||i==="/Cinemania-Project"),r={home:()=>b["../pages/home/index.js"]?.(),catalog:()=>b["../pages/catalog/catalog.js"]?.(),library:()=>b["../pages/my-library/my-library.js"]?.()};document.querySelectorAll(".nav-link").forEach(l=>{l.classList.remove("active");const c=l.getAttribute("href")||"";(s&&c.includes("index")||o&&c.includes("catalog")||n&&c.includes("library"))&&l.classList.add("active")});const a=o?r.catalog:n?r.library:s?r.home:null;a&&a().catch(l=>console.error("Sayfa modülü yüklenirken hata:",l))});export{N as a,O as b,x as c,j as d,C as e,A as f,$ as g,U as s};
//# sourceMappingURL=main-CErjUn7v.js.map
