(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(r){if(r.ep)return;r.ep=!0;const n=i(r);fetch(r.href,n)}})();const g="362ee522f1af2dedac989b8df9cfb4eb",L="https://api.themoviedb.org/3",b="https://image.tmdb.org/t/p/w500";async function E(e,o={}){const i=new URL(`${L}${e}`);i.searchParams.append("api_key",g),i.searchParams.append("language","en-US");for(const t in o)o[t]&&i.searchParams.append(t,o[t]);try{const t=await fetch(i);if(!t.ok)throw new Error(`API Error: ${t.status}`);return await t.json()}catch(t){return console.error("API Request Failed:",t),null}}async function k(e){return await E(`/movie/${e}`)}function w(e){return e?`${b}${e}`:"https://via.placeholder.com/500x750?text=No+Poster"}function S(){const e=document.querySelector("#movie-modal-backdrop");if(!e)return console.error("Modal backdrop '#movie-modal-backdrop' not found."),{openModal:()=>{},closeModal:()=>{}};const o=e.querySelector("#modal-close-btn"),i=e.querySelector("#modal-poster"),t=e.querySelector("#modal-title"),r=e.querySelector("#modal-vote-avg"),n=e.querySelector("#modal-vote-count"),c=e.querySelector("#modal-popularity"),d=e.querySelector("#modal-genre"),m=e.querySelector("#modal-description"),l=e.querySelector("#modal-add-btn");function y(){return JSON.parse(localStorage.getItem("myLibrary"))||[]}function v(a){localStorage.setItem("myLibrary",JSON.stringify(a))}async function h(a){const s=await k(a);if(s){if(i&&(i.src=w(s.poster_path)),t&&(t.textContent=s.title.toUpperCase()),r&&(r.textContent=s.vote_average.toFixed(1)),n&&(n.textContent=s.vote_count),c&&(c.textContent=s.popularity.toFixed(1)),d&&(d.textContent=s.genres.map(u=>u.name).join(", ")||"N/A"),m&&(m.textContent=s.overview||"No description available."),l){const u=y(),p=Number(s.id);l.textContent=u.includes(p)?"Remove from my library":"Add to my library",l.dataset.id=p}e.classList.remove("is-hidden"),document.body.classList.add("modal-open")}}function f(){e.classList.add("is-hidden"),document.body.classList.remove("modal-open")}return o&&o.addEventListener("click",f),e.addEventListener("click",a=>{a.target===e&&f()}),window.addEventListener("keydown",a=>{a.key==="Escape"&&!e.classList.contains("is-hidden")&&f()}),l&&l.addEventListener("click",()=>{const a=Number(l.dataset.id);if(!a)return;const s=y(),u=s.indexOf(a);u>-1?(s.splice(u,1),l.textContent="Add to my library"):(s.push(a),l.textContent="Remove from my library"),v(s)}),{openModal:h,closeModal:f}}function x(){const e=document.querySelector(".footer-link"),o=document.getElementById("team-modal-backdrop"),i=document.getElementById("team-modal-close-btn");if(!e||!o)return;function t(c){c.preventDefault(),o.classList.remove("is-hidden"),document.body.classList.add("modal-open"),window.addEventListener("keydown",n)}function r(){o.classList.add("is-hidden"),document.body.classList.remove("modal-open"),window.removeEventListener("keydown",n)}function n(c){c.code==="Escape"&&r()}e.addEventListener("click",t),i&&i.addEventListener("click",r),o.addEventListener("click",c=>{c.target===o&&r()})}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-nav"),o=document.querySelector(".logo"),i=document.querySelector(".mobile-menu-btn");let t=null;if(!e||!o)return;const r=()=>window.innerWidth<=768;function n(m){r()&&(m&&m.preventDefault(),t||(t=document.createElement("div"),t.className="mobile-overlay",t.addEventListener("click",c),document.body.appendChild(t)),e.classList.add("is-open"),document.body.classList.add("menu-open"))}function c(){e.classList.remove("is-open"),document.body.classList.remove("menu-open"),t&&(t.removeEventListener("click",c),t.remove(),t=null)}let d=e.querySelector(".mobile-nav-close");d||(d=document.createElement("button"),d.type="button",d.className="mobile-nav-close",d.innerHTML="&times;",e.appendChild(d)),d.addEventListener("click",c),o.addEventListener("click",n),i&&i.addEventListener("click",n),e.querySelectorAll("a.nav-link").forEach(m=>{m.addEventListener("click",c)}),window.addEventListener("resize",()=>{r()||c()})});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle-checkbox"),o=document.body;if(!e)return;localStorage.getItem("theme")==="light"&&(o.classList.add("light-mode"),e.checked=!0),e.addEventListener("change",()=>{e.checked?(o.classList.add("light-mode"),localStorage.setItem("theme","light")):(o.classList.remove("light-mode"),localStorage.setItem("theme","dark"))})});document.addEventListener("DOMContentLoaded",()=>{const{openModal:e}=S();window.openMovieModal=e,x();const o=window.location.pathname;let i=null,t=null;o.includes("catalog.html")?(i="catalog.js",t="../pages/catalog/catalog.js"):o.includes("my-library.html")?(i="my-library.js",t="../pages/my-library/my-library.js"):(o==="/"||o.endsWith("index.html"))&&(i="index.js",t="../pages/home/index.js"),document.querySelectorAll(".nav-link").forEach(n=>{n.classList.remove("active");const c=n.getAttribute("href");((o==="/"||o.includes("index.html"))&&c.includes("index.html")||o.includes("catalog")&&c.includes("catalog")||o.includes("library")&&c.includes("library"))&&n.classList.add("active")}),t&&import(t).then(()=>console.log(`${i} yüklendi.`)).catch(n=>console.error(`${i} yüklenirken hata:`,n))});
//# sourceMappingURL=main-Cfu3XhGB.js.map
