(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function c(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(o){if(o.ep)return;o.ep=!0;const i=c(o);fetch(o.href,i)}})();const g="362ee522f1af2dedac989b8df9cfb4eb",L="https://api.themoviedb.org/3",b="https://image.tmdb.org/t/p/w500";async function E(e,n={}){const c=new URL(`${L}${e}`);c.searchParams.append("api_key",g),c.searchParams.append("language","en-US");for(const t in n)n[t]&&c.searchParams.append(t,n[t]);try{const t=await fetch(c);if(!t.ok)throw new Error(`API Error: ${t.status}`);return await t.json()}catch(t){return console.error("API Request Failed:",t),null}}async function w(e){return await E(`/movie/${e}`)}function S(e){return e?`${b}${e}`:"https://via.placeholder.com/500x750?text=No+Poster"}function k(){const e=document.querySelector("#movie-modal-backdrop");if(!e)return console.error("Modal backdrop '#movie-modal-backdrop' not found."),{openModal:()=>{},closeModal:()=>{}};const n=e.querySelector("#modal-close-btn"),c=e.querySelector("#modal-poster"),t=e.querySelector("#modal-title"),o=e.querySelector("#modal-vote-avg"),i=e.querySelector("#modal-vote-count"),r=e.querySelector("#modal-popularity"),s=e.querySelector("#modal-genre"),a=e.querySelector("#modal-description"),l=e.querySelector("#modal-add-btn");function y(){return JSON.parse(localStorage.getItem("myLibrary"))||[]}function v(m){localStorage.setItem("myLibrary",JSON.stringify(m))}async function h(m){const d=await w(m);if(d){if(c&&(c.src=S(d.poster_path)),t&&(t.textContent=d.title.toUpperCase()),o&&(o.textContent=d.vote_average.toFixed(1)),i&&(i.textContent=d.vote_count),r&&(r.textContent=d.popularity.toFixed(1)),s&&(s.textContent=d.genres.map(u=>u.name).join(", ")||"N/A"),a&&(a.textContent=d.overview||"No description available."),l){const u=y(),p=Number(d.id);l.textContent=u.includes(p)?"Remove from my library":"Add to my library",l.dataset.id=p}e.classList.remove("is-hidden"),document.body.classList.add("modal-open")}}function f(){e.classList.add("is-hidden"),document.body.classList.remove("modal-open")}return n&&n.addEventListener("click",f),e.addEventListener("click",m=>{m.target===e&&f()}),window.addEventListener("keydown",m=>{m.key==="Escape"&&!e.classList.contains("is-hidden")&&f()}),l&&l.addEventListener("click",()=>{const m=Number(l.dataset.id);if(!m)return;const d=y(),u=d.indexOf(m);u>-1?(d.splice(u,1),l.textContent="Add to my library"):(d.push(m),l.textContent="Remove from my library"),v(d)}),{openModal:h,closeModal:f}}function M(){const e=document.querySelector(".footer-link"),n=document.getElementById("team-modal-backdrop"),c=document.getElementById("team-modal-close-btn");if(!e||!n)return;function t(r){r.preventDefault(),n.classList.remove("is-hidden"),document.body.classList.add("modal-open"),window.addEventListener("keydown",i)}function o(){n.classList.add("is-hidden"),document.body.classList.remove("modal-open"),window.removeEventListener("keydown",i)}function i(r){r.code==="Escape"&&o()}e.addEventListener("click",t),c&&c.addEventListener("click",o),n.addEventListener("click",r=>{r.target===n&&o()})}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-nav"),n=document.querySelector(".logo"),c=document.querySelector(".mobile-menu-btn");let t=null;if(!e||!n)return;const o=()=>window.innerWidth<=768;function i(a){o()&&(a&&a.preventDefault(),t||(t=document.createElement("div"),t.className="mobile-overlay",t.addEventListener("click",r),document.body.appendChild(t)),e.classList.add("is-open"),document.body.classList.add("menu-open"))}function r(){e.classList.remove("is-open"),document.body.classList.remove("menu-open"),t&&(t.removeEventListener("click",r),t.remove(),t=null)}let s=e.querySelector(".mobile-nav-close");s||(s=document.createElement("button"),s.type="button",s.className="mobile-nav-close",s.innerHTML="&times;",e.appendChild(s)),s.addEventListener("click",r),n.addEventListener("click",i),c&&c.addEventListener("click",i),e.querySelectorAll("a.nav-link").forEach(a=>{a.addEventListener("click",r)}),window.addEventListener("resize",()=>{o()||r()})});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle-checkbox"),n=document.body;if(!e)return;localStorage.getItem("theme")==="light"&&(n.classList.add("light-mode"),e.checked=!0),e.addEventListener("change",()=>{e.checked?(n.classList.add("light-mode"),localStorage.setItem("theme","light")):(n.classList.remove("light-mode"),localStorage.setItem("theme","dark"))})});document.addEventListener("DOMContentLoaded",()=>{const{openModal:e}=k();window.openMovieModal=e,M();const n=window.location.href,c=window.location.pathname,t=n.includes("catalog"),o=n.includes("my-library"),i=!t&&!o&&(n.endsWith("/")||n.includes("index.html")||c==="/"||c==="/Cinemania-Project/"||c==="/Cinemania-Project");let r=null,s=null;t?(r="catalog.js",s="../pages/catalog/catalog.js"):o?(r="my-library.js",s="../pages/my-library/my-library.js"):i&&(r="index.js",s="../pages/home/index.js"),document.querySelectorAll(".nav-link").forEach(a=>{a.classList.remove("active");const l=a.getAttribute("href")||"";(i&&l.includes("index")||t&&l.includes("catalog")||o&&l.includes("library"))&&a.classList.add("active")}),s&&import(s).then(()=>console.log(`${r} yüklendi.`)).catch(a=>console.error(`${r} yüklenirken hata:`,a))});
//# sourceMappingURL=main-CgEt6VRO.js.map
