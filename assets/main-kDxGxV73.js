(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();const g="362ee522f1af2dedac989b8df9cfb4eb",L="https://api.themoviedb.org/3",b="https://image.tmdb.org/t/p/w500";async function E(e,t={}){const s=new URL(`${L}${e}`);s.searchParams.append("api_key",g),s.searchParams.append("language","en-US");for(const o in t)t[o]&&s.searchParams.append(o,t[o]);try{const o=await fetch(s);if(!o.ok)throw new Error(`API Error: ${o.status}`);return await o.json()}catch(o){return console.error("API Request Failed:",o),null}}async function k(e){return await E(`/movie/${e}`)}function w(e){return e?`${b}${e}`:"https://via.placeholder.com/500x750?text=No+Poster"}function S(){const e=document.querySelector("#movie-modal-backdrop");if(!e)return console.error("Modal backdrop '#movie-modal-backdrop' not found."),{openModal:()=>{},closeModal:()=>{}};const t=e.querySelector("#modal-close-btn"),s=e.querySelector("#modal-poster"),o=e.querySelector("#modal-title"),n=e.querySelector("#modal-vote-avg"),r=e.querySelector("#modal-vote-count"),i=e.querySelector("#modal-popularity"),c=e.querySelector("#modal-genre"),m=e.querySelector("#modal-description"),a=e.querySelector("#modal-add-btn");function u(){return JSON.parse(localStorage.getItem("myLibrary"))||[]}function v(l){localStorage.setItem("myLibrary",JSON.stringify(l))}async function h(l){const d=await k(l);if(d){if(s&&(s.src=w(d.poster_path)),o&&(o.textContent=d.title.toUpperCase()),n&&(n.textContent=d.vote_average.toFixed(1)),r&&(r.textContent=d.vote_count),i&&(i.textContent=d.popularity.toFixed(1)),c&&(c.textContent=d.genres.map(f=>f.name).join(", ")||"N/A"),m&&(m.textContent=d.overview||"No description available."),a){const f=u(),p=Number(d.id);a.textContent=f.includes(p)?"Remove from my library":"Add to my library",a.dataset.id=p}e.classList.remove("is-hidden"),document.body.classList.add("modal-open")}}function y(){e.classList.add("is-hidden"),document.body.classList.remove("modal-open")}return t&&t.addEventListener("click",y),e.addEventListener("click",l=>{l.target===e&&y()}),window.addEventListener("keydown",l=>{l.key==="Escape"&&!e.classList.contains("is-hidden")&&y()}),a&&a.addEventListener("click",()=>{const l=Number(a.dataset.id);if(!l)return;const d=u(),f=d.indexOf(l);f>-1?(d.splice(f,1),a.textContent="Add to my library"):(d.push(l),a.textContent="Remove from my library"),v(d)}),{openModal:h,closeModal:y}}function x(){const e=document.querySelector(".footer-link"),t=document.getElementById("team-modal-backdrop"),s=document.getElementById("team-modal-close-btn");if(!e||!t)return;function o(i){i.preventDefault(),t.classList.remove("is-hidden"),document.body.classList.add("modal-open"),window.addEventListener("keydown",r)}function n(){t.classList.add("is-hidden"),document.body.classList.remove("modal-open"),window.removeEventListener("keydown",r)}function r(i){i.code==="Escape"&&n()}e.addEventListener("click",o),s&&s.addEventListener("click",n),t.addEventListener("click",i=>{i.target===t&&n()})}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".main-nav"),t=document.querySelector(".logo"),s=document.querySelector(".mobile-menu-btn");let o=null;if(!e||!t)return;const n=()=>window.innerWidth<=768;function r(m){n()&&(m&&m.preventDefault(),o||(o=document.createElement("div"),o.className="mobile-overlay",o.addEventListener("click",i),document.body.appendChild(o)),e.classList.add("is-open"),document.body.classList.add("menu-open"))}function i(){e.classList.remove("is-open"),document.body.classList.remove("menu-open"),o&&(o.removeEventListener("click",i),o.remove(),o=null)}let c=e.querySelector(".mobile-nav-close");c||(c=document.createElement("button"),c.type="button",c.className="mobile-nav-close",c.innerHTML="&times;",e.appendChild(c)),c.addEventListener("click",i),t.addEventListener("click",r),s&&s.addEventListener("click",r),e.querySelectorAll("a.nav-link").forEach(m=>{m.addEventListener("click",i)}),window.addEventListener("resize",()=>{n()||i()})});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle-checkbox"),t=document.body;if(!e)return;localStorage.getItem("theme")==="light"&&(t.classList.add("light-mode"),e.checked=!0),e.addEventListener("change",()=>{e.checked?(t.classList.add("light-mode"),localStorage.setItem("theme","light")):(t.classList.remove("light-mode"),localStorage.setItem("theme","dark"))})});document.addEventListener("DOMContentLoaded",()=>{const{openModal:e}=S();window.openMovieModal=e,x();const t=window.location.pathname,o=t==="/"||t==="/Cinemania-Project/"||t.endsWith("/index.html")||t.endsWith("index.html"),n=t.includes("catalog"),r=t.includes("my-library");let i=null,c=null;n?(i="catalog.js",c="../pages/catalog/catalog.js"):r?(i="my-library.js",c="../pages/my-library/my-library.js"):o&&(i="index.js",c="../pages/home/index.js"),document.querySelectorAll(".nav-link").forEach(a=>{a.classList.remove("active");const u=a.getAttribute("href");((t==="/"||t.includes("index.html"))&&u.includes("index.html")||t.includes("catalog")&&u.includes("catalog")||t.includes("library")&&u.includes("library"))&&a.classList.add("active")}),c&&import(c).then(()=>console.log(`${i} yüklendi.`)).catch(a=>console.error(`${i} yüklenirken hata:`,a))});
//# sourceMappingURL=main-kDxGxV73.js.map
